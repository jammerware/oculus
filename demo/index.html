<!doctype html>
<html lang=en>

<head>
    <meta charset=utf-8>
    <title>Oculus</title>
    <link href="./tw.css" rel="stylesheet">
    <link href="./index.css" rel="stylesheet">
</head>

<body>
    <div class="everything flex flex-col">
        <div class="grow shrink"></div>
        <div class="horizontal flex">
            <div class="grow shrink"></div>
            <div class="app-container bg-white font-bold rounded-lg border shadow-lg object-center p-10">
                <oc-code-renderer language="javascript">
                    /**
                    * @private @property _owner The entity which owns the logger.
                    */
                    export class Logger {
                    _owner = "Logger";

                    /**
                    * @param {object} loggingEntity The entity using the logger.
                    */
                    constructor(loggingEntity) {
                    // TODO gross
                    this._owner = loggingEntity?.constructor.name || "Logger";
                    }

                    /**
                    * @param {any[]} messages
                    */
                    log(...messages) {
                    const prepended = this._prepend(messages);
                    console.log(`[${prepended[0]}]:`, ...prepended.slice(1));
                    }

                    /**
                    * @param {any} message
                    * @throws {Error}
                    */
                    logError(message) {
                    console.error(this._prepend(message));
                    throw new Error(message);
                    }

                    /**
                    * Set the logging owner. This is a little iffy architecturally.
                    *
                    * // TODO
                    *
                    * @param {object} owner The logging owner.
                    */
                    setOwner(owner) {
                    this._owner = owner.constructor.name;
                    }

                    /**
                    *
                    * @param {any} message messages to log
                    * @returns {any[]} messages to log
                    */
                    _prepend(message) {
                    return [`${this._owner}`].concat(message);
                    }
                    }
                </oc-code-renderer>
            </div>
            <div class="grow shrink"></div>
        </div>
        <div class="grow shrink"></div>
    </div>

    <!-- <script
        src="https://cdn.jsdelivr.net/combine/npm/prismjs@1.29.0,npm/prismjs@1.29.0/components/index.min.js,npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script> -->
    <script type="module" src="./oculus.js" type="module"></script>
</body>

</html>